/*! pc_common-1.0.1.js 2017-01-23*/
function popWindow(a,b,c){$("body").append('<div class="shade"></div>'),c&&$(".pop-content").css("height",c),$(".pop-content").css("max-height",.7*$(window).height()+"px"),b?a.css("width",b):a.css("width","50%"),setPositionCenter(a),a.show();var d=0;$(window).bind("resize",function(){d&&(clearTimeout(d),d=0),d=setTimeout(function(){setPositionCenter(a)},300)}),$(".pop-close").click(function(){$(".shade").remove(),$(this).parent().parent().hide()})}function responsiveImg(){$(".responsive-img").each(function(){$(this).parent().css("overflow","hidden");var a=$(this).parent().width(),b=$(this).parent().height(),c=$(this).width(),d=$(this).height();if(c/d>=a/b){var e={height:"100%",width:"auto",marginTop:"auto"};$(this).css(e),$(this).css("marginLeft",(parseInt($(this).parent().width())-$(this).width())/2+"px")}else{var f={height:"auto",width:"100%",marginLeft:"auto"};$(this).css(f),$(this).css("marginTop",(parseInt($(this).parent().height())-$(this).height())/2+"px")}}),resizefun(responsiveImg)}function setPositionCenter(a){var b={top:"",left:""};b.top=($(window).height()-a.height())/2+"px",b.left=($(window).width()-a.width())/2+"px",a.css(b)}function setPositionTop(a){var b={top:"",left:""};b.top="10%",b.left=($(window).width()-a.width())/2+"px",a.css(b)}function tipsPop(a,b,c,d){var e='<div class="tipsPop-wrap"><i class="tipsPop-close"></i><p class="{{type}}"><i></i>{{content}}</p></div>';$("body").append(e.replace("{{type}}",a).replace("{{content}}",b)),"center"==d||null===d||""===d?setPositionCenter($(".tipsPop-wrap")):"top"==d&&setPositionTop($(".tipsPop-wrap")),$(".tipsPop-close").click(function(){$(this).parent().fadeTo("normal",.01,function(){$(this).slideUp("slow",function(){$(this).remove()})})});var f=0;f&&(clearTimeout(f),f=0),f=setTimeout(function(){$(".tipsPop-wrap").fadeTo("normal",.01,function(){$(this).slideUp("slow",function(){$(this).remove()})})},c)}function setPicSize(){for(var a=$("#sudoku > span"),b=0;b<a.length;b++){1==a.length?a[b].style.width="100%":2==a.length?a[b].style.width="49%":a.length>=2&&(a[b].style.width="32%"),a[b].style.height=3*a[b].offsetWidth/4+"px";var c=a[b].getElementsByTagName("img"),d=new Image;d.src=c[0].src,d.width/d.height>=4/3?(c[0].style.height="100%",c[0].style.width="auto",c[0].style.marginTop="auto",c[0].style.marginLeft=(parseInt(a[b].offsetWidth)-c[0].width)/2+"px"):(c[0].style.width="100%",c[0].style.height="auto",c[0].style.marginLeft="auto",c[0].style.marginTop=(parseInt(a[b].style.height)-c[0].height)/2+"px")}}function defaultLeftNav(){$(".default-slide-nav-wrap").on("click",".slide-link",function(a){$(this).hasClass("on")?($(this).removeClass("on"),$(this).next("ul").slideUp()):($(this).addClass("on"),$(this).next("ul").slideDown()),$(".slide-nav-btn").hasClass("on")&&($(".default-slide-nav-wrap").animate({width:"200px"},300),$(".default-right-content").animate({width:$(".default-right-content").width()-150+"px",paddingLeft:"200px"},300),$(".slide-nav-btn").removeClass("on")),"first-nav-li"==$(this).parent().attr("class")&&($(".first-nav-li").removeClass("current"),$(this).parent().addClass("current")),$(this).attr("url")&&""!==$(this).attr("url")&&$(".frame-content").attr("src",$(this).attr("url")),a.stopPropagation()}),$(".slide-nav-btn").bind("click",function(){$(".first-nav-li ul").slideUp(),$(".first-nav-li .slide-link").removeClass("on"),$(this).hasClass("on")?($(this).removeClass("on"),$(".default-slide-nav-wrap").animate({width:"200px"},300),$(".default-right-content").animate({width:$(".default-right-content").width()-150+"px",paddingLeft:"200px"},300)):($(this).addClass("on"),$(".default-slide-nav-wrap").animate({width:"50px"},300),$(".default-right-content").animate({width:$(".default-right-content").width()+150+"px",paddingLeft:"50px"},300))})}function setLeftNavSize(){$(".default-slide-nav-wrap").css("height",$(window).height()-$(".default-head-content").height()-1+"px"),$(".default-slide-nav").css("height",$(window).height()-$(".default-head-content").height()-$(".slide-nav-top").height()-1+"px"),resizefun(setLeftNavSize)}function setframeContentSize(){var a={height:$(window).height()-$(".default-head-content").height()-1+"px",width:$(window).width()-$(".default-slide-nav-wrap").width()+"px"};$(".default-right-content").css(a),resizefun(setframeContentSize)}function resizefun(a){var b=0;$(window).bind("resize",function(){b&&(clearTimeout(b),b=0),b=setTimeout(a,300)})}function horScrollTab(a,b){var c=a.find(".scroll-tab-wrap"),d=a.find(".scroll-tab-li"),e=a.find(".scroll-tab-li-con"),f=a.find(".hor-scroll-tab"),g=a.find(".scroll-tab-bar");c.on(b,".scroll-tab-li",function(){d.removeClass("current"),$(this).addClass("current"),e.hide(),e.eq($(this).index()).show()}),d.width()*d.length>c.width()&&(a.find(".scroll-tab-preview").css("display","inline-block"),a.find(".scroll-tab-next").css("display","inline-block"));var h=d.width();f.on("click",".scroll-tab-next",function(){var a=g.width()-c.width(),b=g.position().left-20;-b>a||a+b<=h?g.animate({left:-a+"px"},200):(g.animate({left:g.position().left-h+"px"},200),h+=1)}),f.on("click",".scroll-tab-preview",function(){var a=0,b=g.position().left-20;-b<h?g.animate({left:a+"px"},200):(g.animate({left:g.position().left+h+"px"},200),h+=1)})}function defaultTab(a){$(".hor-default-wrap").on(a,".hor-tab-li",function(){var a=$(this).parent().parent();a.find(".hor-tab-li").removeClass("current"),$(this).addClass("current"),a.find(".hor-tab-li-content").hide(),a.find(".hor-tab-li-content").eq($(this).index()).show()})}function bothDefaultTab(a){$(".left-tab-menu-li").bind(a,function(a){$(this).parent().children("li").removeClass("current"),$(this).addClass("current"),$(this).find(".right-tab-wrap").children("li").removeClass("current"),$(this).find(".right-tab-wrap").children("li").eq(0).addClass("current"),$(this).find(".right-tab-wrap").show(),a.stopPropagation()}),$(".right-tab-li").bind(a,function(a){$(this).parent().children("li").removeClass("current"),$(this).addClass("current"),$(this).find(".right-tab-li-con").show(),a.stopPropagation()})}function verDefaultTab(a){$(".ver-tab-menu li").bind(a,function(a){$(this).children("ul").hasClass("on")?($(this).children("ul").slideUp(),$(this).children("ul").removeClass("on")):($(this).children("ul").slideDown(),$(this).children("ul").addClass("on")),$(".ver-tab-menu li").removeClass("current"),$(this).addClass("current"),a.stopPropagation()})}function responsiveTable(a,b,c){function d(a,d,e){var f=a.find("tr").first().children("th").length,h=($(window).width()/f,""),i="",j="",k=d.length-parseInt($(window).width()/b);k<=0&&(k=0);for(var l=0;l<d.length-k;l++)i=i+"<th>"+d[l]+"</th>";h="<tr>"+i+"</tr>",i="";for(var m=0;m<g;m++){for(var n=0;n<e[m].length-k;n++)j=n+1==c&&0!==k?j+"<td>"+e[m][n]+'<span class="fold" foldId="'+m+'">+</span></td>':j+"<td>"+e[m][n]+"</td>";h=h+"<tr>"+j+"</tr>",j="";for(var o=e[m].length-k;o<e[m].length;o++)j=j+'<tr class="child" foldId="'+m+'"><td>'+d[o]+"</td><td colspan="+(e[m].length-k-1)+">"+e[m][o]+"</td></tr>";h+=j,j=""}a.empty().append(h)}var e=a,f=[];e.find("th").each(function(a){f[a]=$(this).html()});for(var g=e.find("tr").length-1,h=(e.find("td"),[]),i=0,j=0;i<g;i++){h[i]=[];for(var k=0;k<f.length;k++)h[i][k]=e.find("td").eq(j).html(),j++}d(e,f,h),a.on("click",".fold",function(a){var b=$(this).attr("foldId");"+"==$(this).html()?($(this).parent().parent().parent().find("tr[foldId='"+b+"']").show(),$(this).html("-")):($(this).parent().parent().parent().find("tr[foldId='"+b+"']").hide(),$(this).html("+"))}),$(window).bind("resize",function(){var a=0;a&&(clearTimeout(a),a=0),a=setTimeout(d(e,f,h),300)})}function slideTable(a){var b=parseInt(a.find(".table-slide-th").css("paddingLeft").replace("px",""))||0,c=a.find(".slide-li"),d=c.width(),e=c.find("ul"),f=e.eq(0).find("li"),g=f.width(),h=f.length*g;if(e.css("width",h+"px"),h>d){var i=g;$("#nextQuestion").bind("click",function(){var a=h-d,c=e.position().left-b;-c>a||a+c<=i?(e.animate({left:-a+"px"},200),$("#nextQuestion").addClass("enabled")):(e.animate({left:e.position().left-i-b+"px"},200),$("#nextQuestion").removeClass("enabled")),$("#prevQuestion").removeClass("enabled")}),$("#prevQuestion").bind("click",function(){var a=0,c=e.position().left-b;-c<=i?(e.animate({left:-a+"px"},200),$("#prevQuestion").addClass("enabled")):(e.animate({left:e.position().left+i-b+"px"},200),$("#prevQuestion").removeClass("enabled")),$("#nextQuestion").removeClass("enabled")})}else $("#prevQuestion").addClass("enabled"),$("#nextQuestion").addClass("enabled")}$(function(){setPicSize(),responsiveImg(),defaultLeftNav(),setLeftNavSize(),setframeContentSize(),defaultTab("click"),bothDefaultTab("click"),verDefaultTab("click")});